package Subset;


import java.util.*;
class SubsetSum{
	
	public boolean isSubsetSum(int[] arr , int idx , int sum) {
		if(idx == -1 && sum !=0) 
			return false;
		
		if(sum == 0) 
			return true;
		
		
		boolean include = isSubsetSum(arr , idx- 1 , sum - arr[idx]) ;
		
		boolean exclude = isSubsetSum(arr , idx-1 , sum); 
		
		return include || exclude;
	}
	public void printSubsetSum(ArrayList<Integer> list , int[] arr , int idx , int sum) {
		if(idx == -1 && sum !=0) 
			return ;
		
		if(sum == 0) {
			System.out.println(list);
			return;
		}
		
		list.add(arr[idx]);
		printSubsetSum(list , arr , idx-1 , sum - arr[idx]);
		
		list.remove(list.size() -1 );
		printSubsetSum(list , arr , idx-1 , sum);
	}
	
}

public class Subset {

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		
		System.out.println("Enter the number of elements in a array: ");
		int n = sc.nextInt();
		
		int[] arr = new int[n];
		
		System.out.println("Enter the elemnts of array: ");
		for(int i = 0 ; i < n; i++) {
			arr[i] = sc.nextInt();
		}
		
		System.out.println("Enter teh target sum: ");
		int sum = sc.nextInt();
		
		SubsetSum obj = new SubsetSum();
		
		int idx = arr.length -1;
		
		System.out.println("Checking any subset exist in the array....");
		boolean exist = obj.isSubsetSum(arr, idx, sum);
		
		if(exist) {
			System.out.println("The elements of array taht led to sum "+ sum+ "are:" );
			obj.printSubsetSum(new ArrayList<>(), arr, idx, sum);
		}else {
			System.out.println("Elemets dont exist that led to the sum : " + sum);
		}

	}

}
